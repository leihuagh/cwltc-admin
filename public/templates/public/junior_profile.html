{% extends "public/base.html" %}
{% load static %}
{% load crispy_forms_tags %}
{% block content %}
  <div class="container bg-light flex-sm-grow" style="height: 100%">
    <div class="row">
      <div class="col-sm-12 p-0">
        <img class="img-fluid" src="{% static 'images/panorama.jpg' %}" alt="Coombe wood courts" />
      </div>
    </div>
    <h3 {% if class %}class="text-center"{% endif %}>{{ title }}</h3>
    <div class="row justify-content-center">
      <div class="col-sm-12 col-md-8 col-lg-8">
        <form method="POST" novalidate="">
          {% csrf_token %}
          <div class="card my-2">
            {% if form_title %}
              <h4 class="card-header card-title bg-success text-white mb-3" >{{ form_title }}</h4>
            {% endif %}

          {% if messages %}
            {% for message in messages %}
              <div class="alert {% if message.tags %}alert-{% if message.tags == "error" %}danger{% else %}{{ message.tags }}{% endif %}"{% endif %}>{{ message }}</div>
            {% endfor %}
          {% endif %}

            <div class="card-body pt-0">
              {% include 'public/_special_needs.html' %}
              {% include 'public/_emergency.html' %}


{#          {{  form.rad_has_needs|as_crispy_field }}#}
              <div class="row">
                <div class="col-md-4">
                  {{ form.contact0|as_crispy_field }}
                </div>
                <div class="col-md-4 py-0">
                  {{ form.phone0|as_crispy_field }}
                </div>
                <div class="col-md-4 py-0">
                  {{ form.relationship0|as_crispy_field }}
                </div>
              </div>
             <strong class="text-secondary">Additional contacts (optional)</strong>
              <div class="row">
                <div class="col-md-4">
                  {{ form.contact1|as_crispy_field }}
                </div>
                <div class="col-md-4">
                  {{ form.phone1|as_crispy_field }}
                </div>
                <div class="col-md-4">
                  {{ form.relationship1|as_crispy_field }}
                </div>
              </div>
              <div class="row">
                <div class="col-md-4">
                  {{ form.contact2|as_crispy_field }}
                </div>
                <div class="col-md-4">
                  {{ form.phone2|as_crispy_field }}
                </div>
                <div class="col-md-4">
                  {{ form.relationship2|as_crispy_field }}
                </div>
              </div>
            {% include 'public/_photo_consent.html' %}
            </div>
{#{{  form.consent|as_crispy_field }}#}
            <div class="card-footer">
              {% for button in buttons %}
                <input type="submit" name="{{ button.name }}" class="{{ button.css_class }} mb-1"
                       id="id-{{ button.name }}" value="{{ button.value }}">
              {% endfor %}
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
{% endblock content %}
{% block scripts %}
  <script>
$( document ).ready(function() {
  var val = $( '#needs2:checked' ).val();
  if (val === '2') {
      document.getElementById('needsDiv').style.display = 'block'
  }
});
 </script>
{% endblock %}
