{% extends "base_bs4.html" %}
{% load static %}
{% load menu %}
{% block head %}
{#  <link rel="stylesheet" type="text/css"  href="{% static 'public/css/public.css' %}">#}
{% endblock %}

{% block content0 %}
{% generate_menu %}
<div class="app sidebar-mini rtl">
    <!-- Navbar-->
    <header class="app-header"><a class="app-header__logo" href="index.html">Coombe Wood</a>
      <!-- Sidebar toggle button--><a class="app-sidebar__toggle" href="#" data-toggle="sidebar" aria-label="Hide Sidebar"></a>
      <!-- Navbar Right Menu-->
      <ul class="app-nav">
        <li class="app-search">
          <form class="navbar-form navbar-left" role="search" action="/search/person/" id="nav-form">
            <input class="app-search__input typeahead tt-query" id="nav_search" placeholder="Search">
            <input name="nav_person_id" id="nav_person_id" type="hidden" value="">
            <button class="app-search__button"><i class="fa fa-search"></i></button>
          </form>
        </li>
        <!--Notification Menu-->
        <li class="dropdown"><a class="app-nav__item" href="#" data-toggle="dropdown" aria-label="Show notifications"><i class="fa fa-bell-o fa-lg"></i></a>
          <ul class="app-notification dropdown-menu dropdown-menu-right">
            <li class="app-notification__title">You have 1 new notification.</li>
            <div class="app-notification__content">
              <li><a class="app-notification__item" href="javascript:;"><span class="app-notification__icon"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x text-primary"></i><i class="fa fa-envelope fa-stack-1x fa-inverse"></i></span></span>
                  <div>
                    <p class="app-notification__message"> Lisa sent you a mail </p>
                    <p class="app-notification__meta">2 min ago</p>
                  </div></a></li>
            </div>
            <li class="app-notification__footer"><a href="#">See all notifications.</a></li>
          </ul>
        </li>
        <!-- User Menu-->
        <li class="dropdown"><a class="app-nav__item" href="#" data-toggle="dropdown" aria-label="Open Profile Menu"><i class="fa fa-user fa-lg"></i></a>
          <ul class="dropdown-menu settings-menu dropdown-menu-right">
            <li><a class="dropdown-item" href="page-user.html"><i class="fa fa-cog fa-lg"></i> Settings</a></li>
            <li><a class="dropdown-item" href="page-user.html"><i class="fa fa-user fa-lg"></i> Profile</a></li>
            <li><a class="dropdown-item" href="page-login.html"><i class="fa fa-sign-out fa-lg"></i> Logout</a></li>
          </ul>
        </li>
      </ul>
    </header>
    <!-- Sidebar menu-->
    <div class="app-sidebar__overlay" data-toggle="sidebar"></div>
    <aside class="app-sidebar">
      <div class="mb-3 text-center"><img src="{% static "images/CWLTC logo small.png" %}"/></div>
      <ul class="app-menu">
        {% for menu in menus.side %}
          {% if not menu.children %}
            <li>
              <a class="app-menu__item" href="{{ menu.url }}">
                <i class="app-menu__icon {{ menu.icon }}"></i>
                <span class="app-menu__label">{{ menu.title }}</span>
              </a>
            </li>
          {% else %}
            <li class="treeview">
              <a class="app-menu__item" href="#" data-toggle="treeview">
                <i class="app-menu__icon {{ menu.icon }}"></i>
                <span class="app-menu__label">{{ menu.title }}</span>
                <i class="treeview-indicator fas fa-angle-right"></i>
              </a>
            <ul class="treeview-menu">
              {% for item in menu.children %}
                <li>
                  <a class="treeview-item" href="{{ item.url }}">
                    <i class="icon {{ item.icon }}"></i>{{ item.title }}
                  </a>
                </li>
              {% endfor %}
            </ul>
          {% endif %}
        {% endfor %}
        </li>
      </ul>
    </aside>

    <main class="app-content">
      {% block content %}
      {% endblock %}
    </main>
  </div>
{% endblock %}
{% block base_scripts %}
  <script src= {% static 'js/typeahead.bundle.js' %}></script>
  <script src="{% static 'js/wrap_typeahead.js' %}"></script>
  <script>
    $(document).ready(function () {
      document.getElementById('nav-form').reset();
      wrap_typeahead('#nav_search', '/ajax/people/', '', function(person){
      $('#nav_person_id').val(person.id);
      document.getElementById('nav-form').submit();
      })
    });
  </script>
{% endblock %}








