{% extends 'pos/base.html' %}
{% load staticfiles %}
{% block content %}
  {%  include '_logo_banner.html' %}
<div class="container bg">
  <h2 class="text-center"><b>{{ request.session.app.name }}</b></h2>
  <h2 class="text-center">
    {% if filter == 'adults' %} Adult Member Login{% else %}Adult or Junior Member Login{% endif %}
  </h2>

  <br/>
  <div class="row">
    <form id="form_member" role="form" method="POST" >{% csrf_token %}
    <div class="col-md-2">
      <a href="{{ timeout_url }}" class="btn btn-success btn-lg btn-block">Back</a>
    </div>
    <div class="col-md-3 ipad-prompt"> Search for name:</div>

      <div class="col-md-2 input-group input-group-lg">
        <input type="text" class="form-control typeahead tt-query timed bsfix" maxlength="15"
               id = "search_id" autocomplete="off" spellcheck="false" autocorrect="off" autocapitalize="off">
      </div>
      <input name="person_id" id="person_id" type="hidden" value="">
      <input type="submit" class="button" id ="submit_id"
             style="display: none" name="login" value="">
    </form>
  </div>
  <br><br>
  <div class="row">
    <div class="col-md-11 col-md-push-1 hint">
      You can search by first name, last name or both names separated by a space. <br>
      You only need to type the first few letters of each name. Case does not matter.<br>
      In most cases entering your 1st initial then 2 characters of your last name is enough.<br>
      Tap your name when it appears in the list. &nbsp &nbsp
      E.g. <strong>jsm</strong> would find <strong>John Smith</strong>
    </div>
  </div>
  <div class="hint text-center">
   </div>
</div>

{% endblock content %}
{% block scripts %}
{#  <script src=https://twitter.github.com/typeahead.js/releases/latest/typeahead.bundle.min.js></script>#}
  <script src= {% static 'js/typeahead.bundle.js' %}></script>
  <script src="{% static 'pos/js/pos-typeahead.js' %}"></script>
  <script>
    $(document).ready(function () {
      bind_typeahead('#search_id', go, '{{ filter }}');
      $('.typeahead').typeahead('val', '');
      timingCode.startTimer({{ timeout }}, "{{ timeout_url }}");
    });
    function go(person) {
        $('#person_id').val(person.id);
        $('#submit_id').trigger('click');
        $('.typeahead').typeahead('val', '');
    }
  </script>
{% endblock %}


